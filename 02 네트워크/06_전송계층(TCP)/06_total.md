# 06 전송계층(TCP)

*<네트워크 개론> pg 322~324*



## 연습문제

1. 여러 포트를 이용하여 통신할 때 상위 계층에서는 TCP 포트 2번을 사용하여 하위 계층인 TCP와 통신하려 하고, 하위 계층인 TCP는 통신 포트 4번을 사용하여 상위 계층과 통신하려 한다면 상위 계층과 하위 계층 간에 통신이 이루어지는가?

   ```
   - 통신이 이루어지지 않음
   - 상위 계층 프로토콜과 하위 계층 프로토콜이 같은 포트를 사용해야만 통신 가능
   ```

2. 포트 번호가 80번이 아닌 웹 페이지에 접속하려면 웹 브라우저의 주소를 입력할 때 어떤 방법을 사용해야 하는가?

   ```
   - 웹 브라우저에 주소를 입력할 때 포트 번호도 같이 입력해야 함
   - http://도메인 이름:포트 번호
   - 해당 포트를 아는 사람만 웹 페이지에 접속할 수 있어 어느 정도 보안이 유지됨
   ```

3. 통신할 때 여러 웹 사이트에서 동시에 파일을 다운로드 할 수 있는 이유는 무엇인가?

   ```
   - TCP 프로토콜이 포트를 여러 개 사용하여 상위 계층의 프로그램과 각각 따로 통신하기 때문
   ```

4. 잘 알려진 포트 번호에 대해 설명하시오.

   ```
   - 주요 인터넷 서비스에 정해놓은 포트 번호
   - 0~1023번, 일반적으로 서버 측 어플리케이션에서 사용
   - 80 HTTP, 443 HTTPS, 21 FTP, 25 SMTP, 110 POP3, 53 DNS 등
   ```

5. TCP를 이용하여 두 장치 간에 전달되는 데이터의 단위는 무엇인가?

   ```
   세그먼트
   ```

6. 전송 계층의 가장 대표적인 프로토콜은 무엇인가?

   ```
   - 연결형 통신 프로토콜 TCP
   - 비연결형 통신 프로토콜 UDP
   ```

7. TCP가 상위 계층으로 데이터를 전송하거나 상위 계층에서 TCP로 데이터를 전송할 때 상호 간에 사용하는 데이터의 이동 통로는 무엇인가?

   ```
   - 포트
   ```

8. HTTPS 애플리케이션에서 사용하는 잘 알려진 포트 번호는 무엇인가?

   ```
   - 443
   ```

9. SYN과 ACK를 사용한 3-way 핸드셰이킹 과정에 대해 설명하시오.

   ```
   3-way 핸드셰이킹: 신뢰할 수 있는 연결을 위해서 데이터를 전송하기 전에 연결을 확립하기 위해 패킷 요청을 세 번 교환하는 것
   
   1. 송신측 → 수신측 (SYN)
   - 네트워크 통신을 하려면 수신 측 컴퓨터의 허락을 받아야 하므로 먼저 송신 측 컴퓨터는 수신 측 컴퓨터에 연결 확립 허가를 받기 위한 SYN 요청을 보냄
   2. 수신측 → 송신측 (ACK + SYN)
   - 수신 측 컴퓨터는 송신 측 컴퓨터가 보낸 요청을 받은 후 허가한다는 응답을 회신하기 위해 연결 확립 응답인 ACK를 보냄
   - 동시에 수신 측 컴퓨터는 송신 측 컴퓨터로부터 데이터 전송 허가를 받기 위해 연결 확립 요청인 SYN을 보냄
   - 이때 연결을 확립하기 위해 코드 비트의 SYN과 ACK가 1로 활성화
   3. 송신측 → 수신측 (ACK)
   - 수신 측 컴퓨터의 요청을 받은 송신 측 컴퓨터는 수신 측 컴퓨터에 허가한다는 응답으로 연결 확립 응답인 ACK를 보냄
   ```

10. TCP 헤더의 필드에 대해 설명하시오.

    ```
    - 송신지 포트 번호: 세그먼트를 전송하는 송신지 호스트에 있는 응용 프로그램의 포트 번호
    - 수신지 포트 번호: 수신지 호스트에서 수행하는 프로세스가 사용하는 포트 번호
    - 순서 번호: 세그먼트에 포함된 데이터의 첫 번째 바이트에 부여된 것으로 32비트의 부호 없는 번호
    - 확인 응답 번호: 세그먼트를 수신하는 노드가 상대편 노드에서 수신하려는 바이트의 번호
    - 헤더 길이: 4바이트 워드 값
    - 예약: 나중에 사용하기 위해 예약된 필드
    - 코드 비트: 연결의 제어 정보가 기록됨, 비트별로 정해진 역할 있음
    - 윈도우 크기: 상대방이 유지해야 하는 바이트 단위의 윈도우 크기
    - 검사합: 의사 헤드를 포함한 헤드 부분의 오류 검출
    - 긴급 포인터: URG 플래그가 설정되면 긴급한 데이터의 마지막 바이트 순서 번호는 긴급 포인터 값과 순서 번호 값의 합으로 계산
    - 옵션: 송신지에서 수신하고자 하는 세그먼트의 최대 크기
    ```

## 기출문제

1. 다음 중 전송 계층의 프로토콜로 올바른 것은?

   ```
   2
   ```

2. HTTPS 애플리케이션에서 사용하는 잘 알려진 포트 번호로 올바른 것은?

   ```
   4
   ```

3. 다음에서 설명하고 있는 TCP 헤더 필드로 올바른 것은?

   : 이 필드는 세그먼트를 수신하는 노드가 상대편 노드에서 수신하려는 바이트의 번호이다.

   ```
   3
   ```

4. 긴급하게 처리할 데이터가 들어 있는 코드 비트로 올바른 것은?

   ```
   1
   ```

5. UDP에 대한 설명으로 가장 거리가 먼 것은?

   ```
   1: 비연결 지향
   ```

6. TCP에 대한 설명으로 잘못된 것은?

   ```
   1: 연결 지향
   ```

7. 전송 계층 데이터 단위에 대한 설명으로 잘못된 것은?

   ```
   1
   ```

