# 08 가상 메모리의 기초

*<쉽게 배우는 운영체제> pg 418~420*



## 연습문제

1. 

   ```
   물리 메모리 + 스왑 영역
   ```

2. 

   ```
   물리 메모리 (CPU의 비트)
   ```

3. 

   ```
   매핑 테이블
   ```

4. 

   ```
   VA = <P, D> → PA = <F, D>
   ```

5. 

   ```
   페이지 테이블 엔트리(PTE. Page Table Entry)
   ```

6. 

   ```
   (가상주소/한 페이지의 크기)의 몫은 P, 나머지는 D
   ```

7. 

   ```
   페이지 테이블 기준 레지스터(PTBR, Page Table Base Register)
   ```

8. 

   ```
   연관 매핑
   ```

9. 

   ```
   직접 매핑
   ```

10. 

    ```
    집합-연관 매핑
    ```

11. 

    ```
    역매핑
    ```
    
12. 

    ```
    변환 색인 버퍼(TLB, Translation Look-aside Buffer)
    ```
    
13. 


    ```
    TLB 미스
    ```

14. 


    ```
    스왑 영역
    ```

15. 


    ```
    동적 주소 변환
    ```

16.  


    ```
    트랩
    ```

17.  


    ```
    세그멘테이션 테이블
    ```


​    


## 심화문제

1. 

   ```
   가상 메모리는 이론적으로 무한대의 크기이지만, 실제로는 컴퓨터 시스템이 가진 물리 메모리의 최대 크기로 한정되며 이는 CPU의 비트에 따라 결정된다. 가상 메모리 시스템에서는 물리 메모리가 꽉 찼을 때 일부 프로세스를 스왑 영역으로 보내고, 몇 개의 프로세스가 작업을 마치면 스왑 영역에 있는 프로세스를 메모리에 가져오기 때문에 무한대의 크기로
   ```
   
2. 

   ```
   1. 가상 주소가 어느 페이지에 있는지 찾기
   2. 페이지 테이블에서 해당 페이지가 어떤 프레임에 있는지 확인
   3. 확인한 물리 메모리 프레임에 접근(D는 같음)
   ```

3. 

   ```
   연관 매핑: 전체 테이블을 스왑 영역에 두고 페이지 테이블의 일부를 물리 메모리에 가져오는 방식
   - 변환 색인 버퍼를 찾아봄
   - 원하는 페이지 번호가 변환 색인 버퍼에 있는 경우 곧바로 물리 주소로 변환
   - 없는 경우, 스왑 영역에 저장된 직접 매핑 테이블을 이용하여 프레임 번호로 변환
   ```

4. 

   ```
   집합-연관 매핑: 연관 매핑의 단점을 개선한 방식
   - 페이지 테이블을 일정한 집합으로 자르고, 자른 덩어리 단위로 물리 메모리에 가져옴
   - 페이지 관리자를 생성하고 해당 테이블이 물리 메모리와 스왑 영역 중 어느 곳에 있는지 영역 표시를 함
   - 집합 테이블을 통해 원하는 페이지 테이블 엔트리가 스왑 영역에 있는지, 물리 메모리에 있는지 간단히 파악 가능
   ```

5. 

   ```
   역매핑: 물리 메모리가 어떤 프로세스의 어떤 페이지를 가지고 있는지를 테이블 형태로 구성
   - 물리 메모리의 프레임에 어떤 프로세스의 페이지가 올라와 있는지를 표시
   - 주소 변환 시 메모리 관리자는 주소 변환을 해야 하는 프로세스의 아이디와 페이지 번호가 물리 메모리에 있는지 역매핑 테이블에서 검색
   - 현재 테이블에 원하는 데이터가 없으면 스왑 영역에서 가져옴
   ```

6. 

   ```
   권한 비트와 같이 중복되는 데이터를 세그먼테이션 테이블로 옮겨 오면 테이블의 크기를 줄일 수 있음
   ```

   
