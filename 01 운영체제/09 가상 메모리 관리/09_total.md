# 09 가상 메모리 관리

*<쉽게 배우는 운영체제> pg 462~464*



## 연습문제

1. 메모리 가져오기 정책 중, 사용자가 요구할 때 해당 페이지를 메모리로 가져오는 방식은 무엇인가?

   ```
   요구 페이징
   ```

2. 요구 페이징과 반대로 앞으로 필요할 것이라고 예상되는 페이지를 미리 가져오는 방식은 무엇인가?

   ```
   미리 가져오기
   ex) 캐시
   ```

3. 페이지 테이블 엔트리의 구조 중, 페이지가 실제 메모리에 있는지 나타내는 비트는 무엇인가?

   ```
   유효 비트(현재 비트)
   ```

4. 페이지 테이블 엔트리의 구조 중, 페이지가 메모리에 올라온 후 사용한 적이 있는지 알려주는 비트는 무엇인가?

   ```
   접근 비트(참조 비트)
   ```

5. 페이지 테이블 엔트리의 구조 중, 페이지가 메모리에 올라온 후 데이터의 변경이 있었는지 알려주는 비트는 무엇인가?

   ```
   변경 비트(더티 비트)
   ```

6. 프로세스가 페이지를 요청했을 때 해당 페이지가 메모리에 없는 상황을 무엇이라 하는가?

   ```
   페이지 부재
   ```

7. 기억장치에 접근하는 패턴이 메모리 전체에 고루 분포되는 것이 아니라 특정 영역에 집중되어 있는 성질을 무엇이라 하는가?

   ```
   지역성
   ```

8. 처음으로 메모리에 올라온 페이지를 스왑 영역으로 보내는 페이지 교체 알고리즘은 무엇인가?

   ```
   FIFO(First In First Out) 페이지 교체 알고리즘
   ```

9.  미래의 접근 패턴을 기준으로 대상 페이지를 선정하여 스왑 영역으로 보내는 방식으로, 실제로 구현이 불가능한 페이지 교체 알고리즘은 무엇인가?

   ```
   최적 페이지 교체 알고리즘
   ```

10.  시간적으로 멀리 떨어진 페이지를 스왑 영역으로 보내는 페이지 교체 알고리즘은 무엇인가?

    ```
    LRU(Least Recently Used) 페이지 교체 알고리즘 / 최근 최소 사용 페이지 교체 알고리즘
    ```

11. 사용 빈도가 적은 페이지를 스왑 영역으로 보내는  페이지 교체 알고리즘은 무엇인가?

    ```
    LFU(Least Frequently Used) 페이지 교체 알고리즘 / 최소 빈도 사용 페이지 교체 알고리즘
    ```

12. 최근에 사용한 적이 없는 페이지를 스왑 영역으로 보내는 페이지 교체 알고리즘은 무엇인가?

    ```
    NUR(Not Used Recently) 페이지 교체 알고리즘 / 최근 미사용 페이지 교체 알고리즘
    ```

13. FIFO 변형 페이지 교체 알고리즘 중, 성공한 페이지를 큐의 맨 뒤로 옮김으로써 기회를 한번 더 주는 페이지 교체 알고리즘은 무엇인가?

    ```
    2차 기회 페이지 교체 알고리즘
    ```

14. FIFO 변형 페이지 교체 알고리즘 중, 대상 페이지를 가리키는 포인터를 사용하여 포인터가 큐의 맨 바닥으로 내려가면 다음에 다시 큐의 처음을 가리키게 하는 페이지 교체 알고리즘은 무엇인가?

    ```
    시계 알고리즘
    ```

15. 하드디스크의 입출력이 많아져서 잦은 페이지 부재로 작업이 거의 멈춰버린 상태를 무엇이라 하는가?

    ```
    스레싱
    ```

16. 동적 프레임 할당 방식 중, 최근 일정 시간 동안 참조된 페이지를 집합으로 유지하고 이 집합에 있는 페이지들을 물리 메모리에 유지하는 것은 무엇인가?

    ```
    작업집합 모델
    ```

17. 동적 프레임 할당 방식 중, 페이지 부재 비율의 상한선과 하한선을 설정하고 페이지 부재 비율이 상한선을 초과하면 할당 프레임을 늘려주는 것은 무엇인가?

    ```
    페이지 부재 빈도
    ```




## 심화문제

1. 요구 페이징의 의미와 효과를 설명하시오.

   ```
   - 요구 페이징은 사용자가 요구할 때 해당 페이지를 메모리로 가져오는 것
   - 메모리에는 꼭 필요한 프로세스만 유지해야 메모리 관리가 편하고 효율적이기 때문
   
   [효과]
   1. 메모리를 효율적으로 관리할 수 있음
   2. 응답 속도를 향상할 수 있음
   ```

2. 세그먼테이션 오류와 페이지 부재의 차이를 설명하시오.

   ```
   1. 세그먼테이션 오류
   - 사용자의 프로세스가 주어진 메모리 공간을 벗어나거나 접근 권한이 없는 곳에 접근할 때 발생
   - 해당 프로세스를 강제 종료
   
   2. 페이지 부재
   - 해당 페이지가 물리 메모리에 없을 때 발생하는 오류로, 사용자 프로세스와 무관
   - 메모리 관리자가 스왑 영역에서 해당 페이지를 물리 메모리로 옮긴 후 작업 진행
   ```
   
3. 지역성의 의미를 설명하시오.

   ```
   - 기억장치에 접근하는 패턴이 메모리 전체에 고루 분포되는 것이 아니라 특정 영역에 집중되는 성질
   
   1. 공간의 지역성
   - 현재 위치에서 가까운 데이터에 접근할 확률이 높음
   
   2. 시간의 지역성
   - 현재를 기준으로 가장 가까운 시간에 접근한 데이터에 접근할 확률이 높음
   
   3. 순차적 지역성
   - 여러 작업이 순서대로 진행되는 경향이 있음
   ```
   
4. LRU 페이지 교체 알고리즘의 동작을 설명하시오.

   ```
   1. 페이지 접근 시간
   - 페이지에 접근한 시간을 기록하여 메모리에 올라온 시간을 기준으로 가장 오래된 페이지를 교체
   - 페이지에 접근한 시간 = 페이지에 읽기, 쓰기, 실행과 같은 연산이 이루어진 시간
   
   2. 카운터
   - 숫자를 시간(초)이 아니라 카운터 숫자로 기록하여 메모리에 올라온 카운터를 기준으로 가장 차이가 큰 페이지를 교체
   
   3. 참조 비트 시프트
   - 각 페이지에 일정 크기의 참조 비트 생성
   - 참조 비트의 초깃값은 0이며, 페이지에 접근할 때마다 1로 바뀜
   - 참조 비트는 주기적으로 오른쪽으로 한 칸씩 이동
   - 메모리에 접근할 때 기준으로, 참조 비트에서 1이 가장 멀리 떨어져 있는 페이지를 교체
   ```
   
5. NUR 페이지 교체 알고리즘의 동작을 설명하시오.

   ```
   - 페이지가 메모리에 새로 올라올 때마다 (0, 0)으로 시작
   - 페이지가 메모리에 올라와있는 상태에서 접근할 시 해당 페이지의 비트가 바뀜
       - ex) (0, 0) ⇒ (1, 0)
   - 가장 대상 페이지 선정 순서가 빠른 페이지가 스왑 영역으로 내보내짐
       - ex) 메모리 접근 순서 6번 : B(1, 0)를 제외한 D(0, 0)와 C(0, 0) 중에서 더 맨 위에 있는 페이지가 쫓겨남
   ```
   
6. 프레임 할당 방식 중 정적 할당에 대해 설명하시오.

   ```
   - 프로세스 실행 초기에 프레임을 나누어준 후 그 크기를 고정하는 프레임 할당 방식
   
   1. 균등 할당
   - 프로세스의 크기와 상관없이 사용 가능한 프레임을 모든 프로세스에 동일하게 할당
   - 크기가 큰 프로세스의 경우, 페이지 부재가 빈번히 발생
   - 크기가 작은 프로세스의 경우, 메모리가 낭비됨
   
   2. 비례 할당
   - 프로세스의 크기에 비례하여 프레임을 할당
   - 균등 할당보다 좀 더 현실적
   - 프로세스가 실행 중에 필요로 하는 프레임을 유동적으로 반영하지 못함
   - 사용하지 않을 메모리를 처음부터 미리 확보하여 공간을 낭비
   ```

7. 프레임 할당 방식 중 동적 할당에 대해 설명하시오.

   ```
   - 프로세스 실행하며 시시각각 변하는 요청을 수용하여 할당하는 프레임 할당 방식
   
   1. 작업집합 모델
   - 지역성 이론을 바탕으로, 최근 일정 시간 동안 참조된 페이지들을 집합으로 만들어 이 집합에 있는 페이지들을 물리 메모리에 유지하는 방법
   
   2. 페이지 부재 빈도
   - 프로세스가 필요로 하는 페이지의 양을 페이지 부재 빈도를 기준으로 할당하는 방법
   - 페이지 부재 비율을 계산하여 상한선과 하한선을 설정
   - 상한선 위로 넘어가면 페이지 할당
   - 하한선 아래로 넘어가면 페이지 회수
