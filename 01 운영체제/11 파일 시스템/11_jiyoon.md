# 11 파일 시스템

*<쉽게 배우는 운영체제> pg 560~562*



## 연습문제

1.  파일을 사용할 때 운영체제로부터 부여받은 접근 권한을 무엇이라 하는가?

   ```
   파일 디스크립터(file discriptor)
   ```

2.  파일 구조 중 처음부터 순서대로 접근하는 구조는 무엇인가?

   ```
   순차 파일 구조(sequential file structure)
   ```

3.  파일 구조 중 순차 접근과 직접 접근이 모두 가능한 구조는 무엇인가?

   ```
   인덱스 파일 구조(index file structure)
   ```

4.  저장하려는 데이터의 특정 값에 어떤 관계를 정의하여 물리적인 주소로 바로 변환하는 파일 구조는 무엇인가?

   ```
   직접 파일 구조(direct file structure)
   ```

5.  직접 파일 구조에서 데이터의 변환에 사용하는 함수는 무엇인가?

   ```
   해시 함수(hash function)
   ```

6.  파일이 전체 디렉터리 가운데 어느 위치에 있는지 나타내는 정보는 무엇인가?

   ```
   경로
   ```

7.  루트 디렉터리를 기준으로 정하는 경로와 현재 디렉터리를 기준으로 정하는 경로를 각각 무엇이라 하는가?

   ```
   절대 경로, 상대 경로
   ```

8.  여러 개로 나뉜 파티션을 하나로 묶는 명령어는 무엇인가?

   ```
   마운트
   ```

9.  디스크 할당 방식에서 파일에 속한 데이터를 연결 리스트로 관리하는 방식은 무엇인가?

   ```
   연결 할당(linked allocation)
   ```

10.  윈도우의 FAT는 어떤 파일 할당 방식을 사용하는가?

    ```
    연결 할당 방식
    ```

11.  디스크 할당 방식에서 데이터의 인덱스를 담고 있는 인덱스 블록끼리 연결하여 최대 할당 크기의 제약이 없는 방식은 무엇인가?

    ```
    인덱스 할당(index allocation)
    ```

12.  유닉스의 I-node는 어떤 할당 방식을 사용하는가?

    ```
    인덱스 할당 방식
    ```

13.  디스크의 빈 공간을 관리하기 위해 사용하는 자료 구조는 무엇인가?

    ```
    빈 공간 리스트(free block list)
    ```

14. 빈 공간 리스트에서 방금 지워진 파일은 리스트의 어느 쪽에 추가되는가?

    ```
    리스트에 있던 블록 중 맨 앞에 있는 블록 or 리스트 맨 뒤 (토론해보기!!!)
    ```




## 심화문제

1.  순차 파일 구조에 대해 설명하시오.

   ```
   - 파일 내용이 하나의 긴 줄로 늘어선 형태
   - 카세트테이프가 대표적인 예
   - 사용자가 read() 또는 write() 명령을 내리면 파일 디스크립터가 계속 전진
   - 작업을 하다가 특정 위치로 파일 디스크립터를 옮겨야 할 때는 lseek() 명령을 사용
   - 데이터의 변경이 잦은 경우, 데이터 검색을 해야 하는 경우에는 적당하지 않음
   ```

2.  인덱스 파일 구조에 대해 설명하시오.

   ```
   - 순차 파일 구조에 인덱스 테이블을 추가하여 순차 접근과 직접 접근이 가능한 형태
   - 현대의 파일 시스템은 파일을 저장할 때는 순차 파일 구조로 저장하고 접근할 때는 인덱스 테이블을 보고 원하는 파일에 직접 접근함
   - 인덱스 테이블을 여러 개 만들면 다양한 접근이 가능함
   - 데이터베이스같이 데이터의 빠른 접근이 필요한 시스템에 사용됨
   ```
   
3.  직접 파일 구조에 대해 설명하시오.

   ```
   - 저장하려는 데이터의 특정 값에 어떤 관계를 정의하여 물리적인 구조로 바로 변환하는 파일 구조
   - 해시 함수를 통해 주소를 변환하기 때문에 데이터 접근이 매우 빠름
   - 전체 데이터가 고르게 저장될 수 있는 해시 함수를 찾기 어렵고, 찾았더라도 저장 공간이 낭비되는 문제가 생길 수 있음
   ```
   
4. 경로의 의미와 종류를 설명하시오.

   ```
   경로: 파일이 전체 디렉터리 중 어디에 있는지를 나타내는 정보
   - 절대 경로(absolute path): 루트 디렉터리를 기준으로 파일의 위치를 나타내는 방식
   - 상대 경로(relative path): 현재 있는 위치를 기준으로 파일의 위치를 나타내는 방식
   ```
   
5.  디스크 할당 방식의 연속 할당과 불연속 할당에 대해 설명하시오.

   ```
   연속 할당(contiguous allocation)
   - 파일을 구성하는 데이터를 디스크상에 연속으로 배열하는 방식
   - 파일의 시작 블록만 열면 전체 파일을 찾을 수 있음
   - 디스크에 남은 공간 중 파일의 크기와 맞는 연속된 공간이 없을 때 불가능하여 실제로 사용되지 않음
   불연속 할당(non-contiguous allocation)
   - 비어있는 블록에 데이터를 분산하여 저장하고 이에 관한 정보를 파일 시스템이 관리
   - 대표적으로 연결 할당과 인덱스 할당이 있음
   ```
   
6.  디스크의 빈 공간 관리 방법을 설명하시오.

   ```
   - 디스크의 내부 단편화를 줄이고 빈 공간을 관리하기 위해 파일 시스템은 빈 공간 리스트를 유지
   - 디스크에 빈 블록이 생기면 빈 공간 리스트에 추가되고, 새로운 블록을 할당할 때는 리스트에 먼저 들어온 블록부터 할당함
   ```
