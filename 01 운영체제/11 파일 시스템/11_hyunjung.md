# 11 파일 시스템

*<쉽게 배우는 운영체제> pg 560~562*



## 연습문제

1. 

   ```
   파일 디스크립터
   ```

2. 

   ```
   순차 파일 구조
   ```

3. 

   ```
   인덱스 파일 구조
   ```

4. 

   ```
   직접 파일 구조
   ```

5. 

   ```
   해시 함수
   ```

6. 

   ```
   경로
   ```

7. 

   ```
   절대 경로, 상대 경로
   ```

8. 

   ```
   마운트
   ```

9. 

   ```
   연결 할당
   ```

10. 

    ```
    연결 할당 방식
    ```

11. 

    ```
    인덱스 할당 방식
    ```

12. 

    ```
    인덱스 할당 방식
    ```

13. 

    ```
    빈 공간 리스트
    ```

14. 

    ```
    리스트에 있던 블록 중 맨 앞에 있는 블록을 추가
    ```




## 심화문제

1. 

   ```
   - 파일 내용이 하나의 긴 줄로 늘어선 형태
   - 카세트테이프가 대표적인 예
   - read() 또는 write() 명령을 내리면 파일 디스크립터가 계속 전진하며, 작업을 하다가 특정 위치로 파일 디스크립터를 옮겨야 할 때는 lseek() 명령을 사용
   - 장점 :저장 공간에 낭비되는 부분이 없고, 구조가 단순하여 테이프, 플로피디스크, 메모리를 이용한 저장장치에 적용할 수 있다.
   - 단점 : 파일에 새로운 데이터를 삽입하거나 삭제할 때 시간이 많이 걸린다. 순차 파일 구조는 데이터 검색에 적당하지 않다.
   ```

2. 

   ```
   - 순차 파일 구조에 인덱스 테이블을 추가하여 순차 접근과 직접 접근이 가능
   - 플로피디스크, CD-ROM, 하드디스크 등 디스크를 이용한 저장장치가 보급되면서 개발
   - 인덱스 순차접근으로 구성된 파일을 ISAM(Index Sequential Access Method)라고 부름
   - 장점 : 인덱스 테이블을 여러 개 만들면 다양한 접근이 가능, 데이터베이스와 같이 데이터의 빠른 접근이 필요한 시스템에 사용
   ```
   
3. 

   ```
   - 저장하려는 데이터의 특정 값에 어떤 관계를 정의하여 물리적인 주소로 바로 변환하는 파일 구조
   - 특정 함수(해시 함수)를 이용하여 직접 접근이 가능한 파일 구조
   - 장점 : 해시 함수를 이용하여 주소를 변환하기 때문에 데이터 접근이 매우 빠르다는 것
   - 단점 : 전체 데이터가 고르게 저장될 수 있는 해시 함수를 찾아야 하지만 해시 함수 선정이 어렵고, 빈 공간이 생길 수 있어서 저장장치의 이용 효율이 떨어짐
   ```
   
4. 

   ```
   - 경로 : 파일이 전체 디렉터리 중 어디에 있는지를 나타내는 정보
   - 절대 경로 : 루트 디렉터리를 기준으로 파일의 위치를 나타내는 방식
   - 상대 경로 : 현재 있는 위치를 기준으로 파일의 위치를 표시하는 방식
   ```
   
5. 

   ```
   - 연속 할당 : 파일을 구성하는 데이터를 디스크상에 연속적으로 배열하는 간단한 방식, 파일의 실제 블록만 알면 전체 파일을 찾을 수 있음, 파일을 저장하거나 삭제하다 보면 빈 공간이 생기는데, 디스크에 남은 공간 중 파일의 크기와 맞먹는 연속 공간이 없으면 연속 할당이 불가능해서 실제로는 사용되지 않음
   - 불연속 할당 : 비어있는 블록에 데이터를 분산하여 저장하고 이에 관한 정보를 파일 시스템이 관리하는 방식, ex) 연결 리스트를 이용한 연결 할당, 인덱스를 이용한 인덱스 할당
   ```
   
6. 

   ```
   - 디스크의 내부 단편화를 줄이고 빈 공간을 효율적으로 관리하기 위해 파일 시스템은 빈 블록의 정보만 모아놓은 빈 공간 리스트를 유지, 블록의 내용을 지우지 않고 빈 공간 리스트에 삽입하는 것은 해당 블록에 새로운 데이터를 덮어쓰지 않는 한 원래 데이터를 복구할 수 있는 여지를 남긴다. 또한 빈 공간 리스트를 보고 새로운 블록을 할당할 때는 리스트에 먼저 들어온 블록부터 할당한다. (이러한 특징 때문에 디스크 복구나 휴지통에서 삭제한 파일을 되살리는 것이 가능한 것)
   ```

   
