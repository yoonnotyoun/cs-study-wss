# 03 프로세스와 스레드

*<쉽게 배우는 운영체제> pg 190~192*



## 연습문제

1. 프로그램이 프로세스가 되려면 운영체제로부터 무엇을 받아야 하는가?

   ```
   프로세스 제어 블록(PCB)
   ```

2. 프로세스의 상태 중 CPU를 할당받기 위해 기다리는 상태는 무엇인가?

   ```
   준비 상태
   ```

3. 프로세스의 상태 중 입출력 작업을 하기 위해 이동하는 상태는 무엇인가?

   ```
   대기 상태
   ```

4. CPU 스케줄러가 준비 상태에 있는 프로세스 중 하나를 골라 CPU를 할당하는 작업을 무엇이라고 하는가?

   ```
   디스패치
   ```

5. 유닉스에서 `ctr`l + `z` 키를 눌러 프로세스가 중단되면 프로세스는 어떤 상태로 바뀌는가?

   ```
   휴식 상태
   ```

6. 실행 상태에서 하나의 프로세스가 나가고 새로운 프로세스가 들어오는 상황을 무엇이라고 하는가?

   ```
   문맥 교환
   ```

7. 실행 중인 프로세스로부터 새로운 프로세스를 복사하는 시스템 호출은 무엇인가?

   ```
   fork()
   ```

8. 프로세스의 골격은 그대로 둔 채 코드 영역만 바꾸는 시스템 호출은 무엇인가?

   ```
   exec()
   ```

9. 부모 프로세스가 기다리지 않아 자원이 회수되지 못하고 계속 살아 있는 프로세스는 무엇인가?

   ```
   고아 프로세스
   ```

10. 프로세스의 코드에 정의된 절차에 따라 CPU에 작업 요청을 하는 실행 단위로서 가벼운 프로세스라고 불리는 것은 무엇인가?

    ```
    스레드
    ```

11. 고아 프로세스를 방지하기 위해 부모 프로세스는 어떤 시스템 호출을 사용하는가?

    ```
    wait()
    ```

12. 작업이 끝난 프로세스의 자원을 회수하는 행위를 무엇이라고 하는가?

    ```
    garbage collection
    ```

13. 모든 프로세스를 부모-자식 관계로 만들어 자원 회수를 용이하게 하는 프로세스의 구조는 무엇인가?

    ```
    프로세스의 계층 구조
    ```



## 심화문제

1. 다섯 가지 프로세스 상태도를 그리시오.

   ```
   (이미지 파일로 업로드)
   ```

2. 프로세스의 상태 중 휴식 상태와 보류 상태에 대해 설명하시오.

   ```
   - 휴식 상태: 프로세스가 작업을 일시적으로 쉬고 있는 상태, 유닉스에서는 ctrl + z, 이전 프로세스 진행 상황부터 재시작 가능
   - 보류 상태: 프로세스가 메모리에서 잠시 쫓겨난 상태, 보류 상태에 들어간 프로세스는 스왑 영역에 보관
   ```

3. 프로세스 제어 블록의 구성에 대해 설명하시오.

   ```
   - 포인터 : 프로세스 제어 블록을 연결하여 준비 상태나 대기 상태의 큐 구현
   - 프로세스 상태 : 생성, 준비, 실행, 대기, 보류 준비, 보류 대기
   - 프로세스 구분자 : 여러 프로세스 구분
   - 프로그램 카운터 : 다음에 실행될 명령어 위치
   - 프로세스 우선순위 : CPU 스케줄러가 준비 상태에 있는 프로세스 중 실행 상태로 옮겨야 할 프로세스를 선택할 때 삼는 기준 (사용자 프로세스보다 중요도가 큰 커널 프로세스는 우선순위가 높고 사용자 프로세스끼리도 우선순위가 다름)
   - 레지스터 정보 : 레지스터 중간값 등
   - 메모리 관리 정보 : 메모리 위치, 메모리 보호 정보 등
   - 할당된 자원 정보 : 입출력, 오픈 파일 등
   - 계정 정보 : 계정번호, CPU 할당 시간, CPU 사용 시간 등
   - 부모 프로세스, 자식 프로세스 구분자 : PPID, CPID
   ```

4. 문맥 교환에 대해 설명하시오.

   ```
   CPU를 차지하던 프로세스가 나가고 새로운 프로세스를 받아들이는 작업
   실행 상태에서 나가는 PCB에는 지금까지의 작업 내용을 저장하고, 반대로 실행 상태로 들어오는 PCB의 내용으로 CPU가 다시 세팅됨
   ```

5. 프로세스를 구성하는 코드 영역, 데이터 영역, 스택 영역에 대해 설명하시오.

   ```
   - 코드 영역: 프로그램의 본문이 기술된 곳, 읽기 전용으로 처리
   - 데이터 영역: 코드가 실행되면서 사용하는 변수나 파일 등의 각종 데이터를 모아놓은 곳, 대부분의 변수를 읽고 쓰기가 가능함
   - 스택 영역: 운영체제가 프로세스를 실행하기 위해 부수적으로 필요한 데이터를 모아놓은 곳, 사용자에게 보이지 않음
   ```

6. fork() 시스템 호출의 장점을 설명하시오.

   ```
   프로세스의 생성 속도가 빠르다
   추가 작업 없이 자원을 상속할 수 있다
   시스템 관리를 효율적으로 할 수 있다
   ```

7. exec() 시스템 호출을 사용하는 이유를 설명하시오.

   ```
   프로세스의 구조체를 재활용하기 위해
   exec() 호출을 사용하면 이미 만들어진 PCB, 메모리 영역, 부모-자식 관계를 그대로 사용하며 새로운 코드 영역만 가져오면 되기 때문에 작업이 수월해짐
   ```

8. 프로세스 계층 구조의 장점을 설명하시오.

   ```
   여러 작업의 동시 처리
   용이한 자원 회수 (garbage collection)
   ```

9. 멀티스레드, 멀티태스킹, 멀티프로세싱, CPU 멀티스레드를 비교하여 설명하시오.

   ```
   - 멀티스레드: 프로세스 내 작업을 여러 개의 스레드로 분할함으로써 작업의 부담을 줄이는 프로세스 운영 기법
   - 멀티태스킹: 시분할 시스템, 운영체제가 CPU에 작업을 줄 때 시간을 잘게 나누어 배분하는 기법, 이 때 운영체제가 CPU에 전달하는 작업은 스레드
   - 멀티프로세싱: CPU를 여러 개 사용하여 여러 개의 스레드를 동시에 처리하는 작업 환경, 병렬 처리에서의 슈퍼스칼라 기법
   - CPU 멀티스레드: 한 번에 하나씩 처리해야 하는 스레드를 파이프라인 기법을 통해 동시에 여러 개의 스레드를 처리하도록 만든 병렬 처리 기법
   ```

   